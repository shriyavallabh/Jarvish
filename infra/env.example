# Project One - Environment Configuration Template
# Copy this file to .env and configure with actual values

# ================================================
# Application Configuration  
# ================================================
NODE_ENV=production
PORT=3000
API_VERSION=v1
APP_NAME=project-one
APP_VERSION=1.0.0
CORS_ORIGINS=https://advisors.projectone.com,https://admin.projectone.com

# ================================================
# Database Configuration
# ================================================
DATABASE_URL=postgresql://username:password@db-cluster.ap-south-1.rds.amazonaws.com:5432/projectone
DATABASE_POOL_SIZE=10
DATABASE_MAX_CONNECTIONS=100
DATABASE_IDLE_TIMEOUT=30000
DATABASE_SSL_MODE=require

# Read Replicas (if needed)
DATABASE_READ_URL=postgresql://username:password@db-cluster-ro.ap-south-1.rds.amazonaws.com:5432/projectone

# ================================================
# Redis Cache & Queues
# ================================================
REDIS_URL=redis://cache-cluster.ap-south-1.cache.amazonaws.com:6379/0
REDIS_FAMILY=4
REDIS_KEEPALIVE=30000
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_MS=500

# Queue Configuration
QUEUE_REDIS_URL=redis://cache-cluster.ap-south-1.cache.amazonaws.com:6379/1
BULL_BOARD_USERNAME=admin
BULL_BOARD_PASSWORD=secure-admin-password-here
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3

# ================================================
# Authentication & Security
# ================================================
JWT_SECRET=your-super-secure-jwt-secret-key-min-32-chars
JWT_EXPIRES_IN=24h
JWT_ISSUER=project-one-api
JWT_AUDIENCE=project-one-clients

# Session Management
SESSION_SECRET=your-session-secret-key-for-express-sessions
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict
COOKIE_MAX_AGE=86400000

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=8

# Two-Factor Authentication
TOTP_SECRET=your-totp-secret-for-2fa
TOTP_ISSUER=Project One

# ================================================
# AI & OpenAI Integration
# ================================================
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_ORG_ID=org-xxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_PROJECT_ID=proj_xxxxxxxxxxxxxxxxxxxxxxxx

# Model Configuration
COMPLIANCE_MODEL=gpt-4o-mini
CONTENT_MODEL=gpt-4.1
FALLBACK_MODEL=gpt-3.5-turbo
AI_TIMEOUT_MS=30000
AI_MAX_TOKENS=4096
AI_TEMPERATURE=0.7
AI_MAX_CONCURRENT=50

# Rate Limiting
AI_RATE_LIMIT_PER_ADVISOR=30
AI_RATE_LIMIT_WINDOW_MS=3600000

# ================================================
# WhatsApp Business Cloud API
# ================================================
WA_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
WA_PHONE_NUMBER_ID=123456789012345
WA_BUSINESS_ACCOUNT_ID=123456789012345
WA_APP_ID=123456789012345
WA_APP_SECRET=abcdefghijklmnopqrstuvwxyz123456

# Webhook Configuration
WA_WEBHOOK_VERIFY_TOKEN=your-webhook-verify-token-secure
WA_WEBHOOK_SECRET=your-webhook-secret-for-hmac-verification

# Business Settings
WA_DELIVERY_WINDOW_START=06:00
WA_DELIVERY_WINDOW_END=06:30
WA_TIMEZONE=Asia/Kolkata
WA_RETRY_ATTEMPTS=3
WA_BATCH_SIZE=50
WA_RATE_LIMIT_PER_SECOND=20

# Quality Management
WA_QUALITY_THRESHOLD=HIGH
WA_FALLBACK_NUMBER_1=987654321098765
WA_FALLBACK_NUMBER_2=876543210987654

# ================================================
# Media & Asset Management
# ================================================
# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=abcdefghijklmnopqrstuvwxyz123456
CLOUDINARY_FOLDER=project-one
CLOUDINARY_AUTO_TAGGING=true

# Upload Settings
MAX_IMAGE_SIZE=10485760
MAX_FILES_PER_REQUEST=5
UPLOAD_TIMEOUT=120000
ALLOWED_FORMATS=jpg,jpeg,png,webp,gif

# Cloudflare R2 Storage
R2_ACCOUNT_ID=your-r2-account-id
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET_NAME=project-one-assets
R2_PUBLIC_URL=https://assets.projectone.com

# ================================================
# Monitoring & Observability
# ================================================
# Datadog Configuration
DATADOG_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DATADOG_APP_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DATADOG_SITE=us5.datadoghq.com
DATADOG_ENV=production
DATADOG_SERVICE=project-one-api
DATADOG_VERSION=1.0.0
DATADOG_TRACE_ENABLED=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/project-one/app.log
LOG_MAX_FILES=7
LOG_MAX_SIZE=100MB
LOG_ROTATE_DAILY=true

# Health Checks
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# ================================================
# AWS Services
# ================================================
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# S3 Configuration
S3_BUCKET_NAME=project-one-storage-ap-south-1
S3_BACKUP_BUCKET=project-one-backups-ap-south-1
S3_KMS_KEY_ID=arn:aws:kms:ap-south-1:123456789012:key/12345678-1234-1234-1234-123456789012

# SES Email Service
SES_REGION=ap-south-1
SES_FROM_EMAIL=noreply@projectone.com
SES_FROM_NAME=Project One
SES_REPLY_TO=support@projectone.com
SES_CONFIGURATION_SET=project-one-ses

# ================================================
# Rate Limiting & Performance
# ================================================
# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_MESSAGE=Too many requests. Please try again later.

# Performance Settings
REQUEST_TIMEOUT_MS=30000
GRACEFUL_SHUTDOWN_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=10000

# Caching
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_SESSION=86400
CACHE_TTL_AI_RESPONSES=1209600
CACHE_TTL_TEMPLATES=604800
CACHE_TTL_COMPLIANCE_RULES=86400

# ================================================
# Business Logic & Feature Flags
# ================================================
# Compliance Engine
COMPLIANCE_STRICT_MODE=true
SEBI_VALIDATION_ENABLED=true
DPDP_LOGGING_ENABLED=true
AI_FALLBACK_ENABLED=true
COMPLIANCE_POLICY_VERSION=2024.1

# Content Generation
CONTENT_TEMPLATES_ENABLED=true
MULTI_LANGUAGE_SUPPORT=true
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi,mr
FALLBACK_LIBRARY_SIZE=60

# A/B Testing & Analytics
ENABLE_AI_PERSONALIZATION=true
ENABLE_FALLBACK_PACKS=true
ENABLE_PRO_FEATURES=true
ENABLE_ANALYTICS=true
ANALYTICS_SAMPLING_RATE=1.0

# ================================================
# External Service URLs
# ================================================
# Frontend Applications
ADVISOR_PORTAL_URL=https://advisors.projectone.com
ADMIN_PORTAL_URL=https://admin.projectone.com
PUBLIC_API_URL=https://api.projectone.com

# Third-party Integrations
SEBI_API_BASE_URL=https://api.sebi.gov.in
RTA_API_BASE_URL=https://api.rtaindia.com
BSE_STAR_MF_URL=https://bsestarmf.in
NSE_API_URL=https://www.nseindia.com/api

# Payment Gateway (if needed)
RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your-razorpay-secret-key
RAZORPAY_WEBHOOK_SECRET=your-razorpay-webhook-secret

# ================================================
# Compliance & Audit
# ================================================
# Data Protection
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=1825
PII_ENCRYPTION_ENABLED=true
GDPR_MODE=false
DPDP_MODE=true

# Data Subject Rights
DSR_EMAIL=privacy@projectone.com
DSR_RESPONSE_DAYS=30
DATA_EXPORT_FORMAT=json
DATA_DELETION_GRACE_PERIOD=30

# Regulatory Reporting
SEBI_REPORTING_ENABLED=true
SEBI_REPORT_SCHEDULE=0 2 1 * *
DPDP_AUDIT_ENABLED=true
COMPLIANCE_ALERT_EMAIL=compliance@projectone.com

# ================================================
# Admin & Maintenance
# ================================================
# Admin Access
ADMIN_IP_ALLOWLIST=203.0.113.1,203.0.113.2,198.51.100.0/24
ADMIN_2FA_REQUIRED=true
ADMIN_SESSION_TIMEOUT=3600000

# Backup & Recovery
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_APPROVER_EMAILS=backup1@company.com,backup2@company.com

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System maintenance in progress. Please try again later.
MAINTENANCE_ALLOWED_IPS=203.0.113.1,203.0.113.2

# ================================================
# Development & Testing
# ================================================
# Debug Settings (disable in production)
DEBUG_MODE=false
ENABLE_SWAGGER=false
ENABLE_PLAYGROUND=false
ENABLE_DEBUG_LOGS=false

# Test Configuration (for development environments)
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/projectone_test
TEST_REDIS_URL=redis://localhost:6379/1

# Mock Services (development only)
MOCK_WHATSAPP_API=false
MOCK_OPENAI_API=false
MOCK_SEBI_API=false
MOCK_PAYMENT_GATEWAY=false

# Development Overrides
# BYPASS_AUTH=false
# BYPASS_RATE_LIMITS=false
# ENABLE_REQUEST_LOGGING=false
# CORS_ORIGIN_OVERRIDE=http://localhost:3000