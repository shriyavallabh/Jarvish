# ================================================
# JARVISH PLATFORM PRODUCTION ENVIRONMENT TEMPLATE
# ================================================
# Copy this file to .env.production and fill in your actual values
# NEVER commit .env.production to version control

# ================================================
# APPLICATION SETTINGS
# ================================================
NODE_ENV=production
PORT=8001
API_VERSION=v1
LOG_LEVEL=info

# ================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ================================================
# AWS RDS PostgreSQL instance
DATABASE_URL=postgresql://username:password@your-rds-endpoint.region.rds.amazonaws.com:5432/jarvish_db?schema=public&sslmode=require

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE=10000

# ================================================
# REDIS CONFIGURATION (AWS ElastiCache)
# ================================================
REDIS_URL=redis://your-elasticache-endpoint.region.cache.amazonaws.com:6379
REDIS_HOST=your-elasticache-endpoint.region.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_KEY_PREFIX=jarvish:

# ================================================
# OPENAI API CONFIGURATION
# ================================================
# Required for AI content generation and compliance checking
OPENAI_API_KEY=sk-your-production-openai-api-key
OPENAI_ORG_ID=org-your-organization-id
OPENAI_MODEL_COMPLIANCE=gpt-4o-mini
OPENAI_MODEL_GENERATION=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# ================================================
# WHATSAPP BUSINESS API CONFIGURATION
# ================================================
# Meta/Facebook WhatsApp Cloud API
WHATSAPP_PHONE_NUMBER_ID=your-whatsapp-phone-number-id
WHATSAPP_ACCESS_TOKEN=your-whatsapp-business-access-token
WHATSAPP_BUSINESS_ACCOUNT_ID=your-whatsapp-business-account-id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your-secure-webhook-verify-token
WHATSAPP_API_VERSION=v17.0
WHATSAPP_WEBHOOK_URL=https://api.jarvish.ai/api/v1/webhooks/whatsapp

# ================================================
# RAZORPAY PAYMENT GATEWAY
# ================================================
RAZORPAY_KEY_ID=rzp_live_your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret
RAZORPAY_WEBHOOK_URL=https://api.jarvish.ai/api/v1/webhooks/razorpay

# ================================================
# AUTHENTICATION & SECURITY
# ================================================
# JWT Configuration
JWT_SECRET=your-very-long-random-jwt-secret-key-minimum-32-characters
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-very-long-random-refresh-secret-key
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=your-very-long-random-session-secret-key
SESSION_MAX_AGE=86400000

# Encryption Keys
ENCRYPTION_KEY=your-32-byte-encryption-key-for-sensitive-data
ENCRYPTION_IV=your-16-byte-initialization-vector

# ================================================
# CLERK AUTHENTICATION (if using)
# ================================================
CLERK_PUBLISHABLE_KEY=pk_live_your_clerk_publishable_key
CLERK_SECRET_KEY=sk_live_your_clerk_secret_key
CLERK_WEBHOOK_SECRET=whsec_your_clerk_webhook_secret

# ================================================
# AWS CONFIGURATION
# ================================================
# AWS Credentials (use IAM roles in production)
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# S3 Bucket for media storage
AWS_S3_BUCKET=jarvish-media-prod
AWS_S3_REGION=ap-south-1
AWS_S3_ACCESS_KEY_ID=your_s3_access_key
AWS_S3_SECRET_ACCESS_KEY=your_s3_secret_key

# CloudFront CDN
AWS_CLOUDFRONT_DISTRIBUTION_ID=your_cloudfront_distribution_id
AWS_CLOUDFRONT_DOMAIN=cdn.jarvish.ai

# ================================================
# EMAIL CONFIGURATION (AWS SES)
# ================================================
EMAIL_FROM=noreply@jarvish.ai
EMAIL_REPLY_TO=support@jarvish.ai
AWS_SES_REGION=ap-south-1
AWS_SES_ACCESS_KEY_ID=your_ses_access_key
AWS_SES_SECRET_ACCESS_KEY=your_ses_secret_key

# ================================================
# MONITORING & ANALYTICS
# ================================================
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Google Analytics
GA_MEASUREMENT_ID=G-YOUR_MEASUREMENT_ID

# Mixpanel Analytics
MIXPANEL_TOKEN=your_mixpanel_project_token

# New Relic APM
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=jarvish-production

# ================================================
# APPLICATION URLS
# ================================================
FRONTEND_URL=https://app.jarvish.ai
API_URL=https://api.jarvish.ai
ADMIN_URL=https://admin.jarvish.ai
WEBHOOK_BASE_URL=https://api.jarvish.ai/webhooks

# ================================================
# CORS CONFIGURATION
# ================================================
CORS_ORIGIN=https://app.jarvish.ai,https://admin.jarvish.ai
CORS_CREDENTIALS=true

# ================================================
# RATE LIMITING
# ================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ================================================
# COMPLIANCE & REGULATORY
# ================================================
# SEBI Compliance Settings
SEBI_COMPLIANCE_ENABLED=true
SEBI_AD_CODE_CHECK=true
COMPLIANCE_AUDIT_RETENTION_DAYS=1825

# Data Residency
DATA_RESIDENCY_REGION=IN
DATA_ENCRYPTION_ENABLED=true

# ================================================
# FEATURE FLAGS
# ================================================
FEATURE_AI_GENERATION=true
FEATURE_WHATSAPP_DELIVERY=true
FEATURE_MULTI_LANGUAGE=true
FEATURE_PAYMENT_GATEWAY=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_COMPLIANCE_ENGINE=true

# ================================================
# SCHEDULED JOBS
# ================================================
# Cron expressions
CRON_WHATSAPP_DELIVERY=0 6 * * *
CRON_BACKUP_DATABASE=0 2 * * *
CRON_CLEANUP_LOGS=0 3 * * 0
CRON_GENERATE_REPORTS=0 9 * * 1

# ================================================
# THIRD-PARTY INTEGRATIONS
# ================================================
# Google APIs (if needed)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# LinkedIn API (for LinkedIn posts)
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# ================================================
# BACKUP & DISASTER RECOVERY
# ================================================
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=jarvish-backups-prod
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true

# ================================================
# PERFORMANCE TUNING
# ================================================
# Node.js Settings
NODE_OPTIONS=--max-old-space-size=4096
UV_THREADPOOL_SIZE=16

# Database Connection Pool
DATABASE_CONNECTION_LIMIT=20
DATABASE_TIMEOUT=30000

# ================================================
# DEBUG & LOGGING
# ================================================
DEBUG=false
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_FILE_PATH=/var/log/jarvish/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=30
LOG_COMPRESS=true

# ================================================
# NOTES FOR DEPLOYMENT
# ================================================
# 1. Use AWS Secrets Manager or similar for production secrets
# 2. Enable SSL/TLS for all connections
# 3. Set up proper IAM roles instead of using access keys
# 4. Configure CloudWatch for centralized logging
# 5. Set up auto-scaling based on load
# 6. Enable multi-AZ deployment for high availability
# 7. Configure backup and disaster recovery
# 8. Set up monitoring alerts for critical metrics
# 9. Enable AWS WAF for API protection
# 10. Regular security audits and updates

# ================================================
# END OF CONFIGURATION
# ================================================